# 11.02 Микросервисы: принципы  

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. Вам как DevOps специалисту
необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.  

## Задача 1: API Gateway  

Сравинительная таблица различных программых решений:  

| Критерии                | Kong      | Tyk.io    | APIGee                            | AWS Gateway | Azure Gateway | Express Gateway |
|-------------------------|-----------|-----------|-----------------------------------|-------------|---------------|-----------------|
| Сложность развертывания | Одна нода | Одна нода | Несколько нод с различными ролями | Облачный    | Облачный      | Гибкий          |
| Open Source             | Да        | Да        | Нет                               | Нет         | Нет           | Да              |
| Основная технология     | NGINX     | GoLang    | Java                              | Закрытая    | Закрытая      | Express.js      |
| On Premise              | Да        | Да        | Да                                | Нет         | Нет           | Да              |
| Комьюнити               | Большое   | Среднее   | -                                 | -           | -             | Небольшое       |
| SSL/TLS                 | Да        | Да        | Да                                | Да          | Да            | Да              |
| Аутентификация          |           |           |                                   |             |               |                 |
| Авторизация             |           |           |                                   |             |               |                 |
| Маршрутизация запросов  |           |           |                                   |             |               |                 |
| Ограничение скорости    |           |           |                                   |             |               |                 |
| Логирование             |           |           |                                   |             |               |                 |



## Задача 2: Брокер сообщений  

Сравнительная таблица брокеров сообщений:  

|                       | RabbitMQ | Kafka | ActiveMQ | Qpid C++ | Redis |
|-----------------------|----------|-------|----------|----------|-------|
| Кластеризации         | +        | +     | +        | +        | +     |
| Хранение              | +        | +     | +        | +        | -     |
| Скорость              | +        | +     | -        | -        | +     |
| Поддержка форматов    | +        | +     | -        | -        | +     |
| Права доступа         | +        | +     | +        | +        | +     |
| Простота эксплуатации | +        | +     | +        | -        | +     |

Cтоит обратить внимание на программный стек. Если нужна относительно простая интеграция, то можно довольствоваться уже 
имеющимся в стеке брокером, без использования дополнительного. Например, если в системе есть Celery Task Queue 
поверх RabbitMQ, удобнее работать с RabbitMQ или Redis, а не с Kafka, который не поддерживается и потребует написания 
дополнительного кода.  
Чтобы выбрать необходимый инструмент, важно понимать все их плюсы и минусы, с учетом конкретного применения, ситуации и требований.